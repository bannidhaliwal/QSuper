<html>
  <head>
    <!-- This ejs statement includes header partial.
    Varibale declaration decides which page is active !-->
    <% include head.ejs %>
    <% var page = "calculator"%>
    <% var active = " active"%>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.min.js"></script>
    <script src = "/Scripts/CalculationsForClientSide.js"></script>
  </head>
  <body>
    <% include header.ejs %>
    <div class = "wrapperForCalculations">
      <div class = "totalIncomeAndContributionBox">
        <div class = "labelForSalaryAndContribution">
          Total Income from Wages or Salary&#x2192
        </div>
        <div class = "inputForSalaryAndContribution">
          <input id = "salary">
        </div>
        <div class = "dropDownBox">
          <select id = "flagSalary">
            <option value = "0">Monthly</option>
            <option value = "1">Annualy</option>
          </select>
        </div>
      </div>
      <div class = "totalIncomeAndContributionBox">
        <div class = "labelForSalaryAndContribution">
          Planned Salary Sacrifice Amount&#x2192
        </div>
        <div class = "inputForSalaryAndContribution">
          <input id = "contribution">
        </div>
        <div class = "dropDownBox">
          <select id = "flagContribution">
            <option value = "0">Monthly</option>
            <option value = "1">Annualy</option>
          </select>
        </div>
      </div>
      <div class = "totalIncomeAndContributionBox">
        <div id = "calculateButton" class = "submitButtonOnCalculationsPage">
          Calculate
        </div>
      </div>
      <canvas id = "chart"></canvas>
    </div>
  </body>
  <script>
    document.getElementById("calculateButton").addEventListener('click',function(){
      var salary = parseInt(document.getElementById('salary').value);
      var contribution = parseInt(document.getElementById('contribution').value);
      var flagSalary = parseInt(document.getElementById('flagSalary').value); 
      var flagContribution = parseInt(document.getElementById('flagContribution').value);CalculateStats(salary,contribution,flagSalary,flagContribution,DrawChart);
    });
  </script>
  <script>
    document.getElementById("calculateButton").addEventListener("click",function(){
      //Get the salary and salary sacrifice..
      var salary = document.getElementById("salary").value;
      var salarySacrifice = document.getElementById("salarySacrifice").value;
      salary = parseInt(salary);
      salarySacrifice = parseInt(salarySacrifice);
      //for now we are using the hard coded flags but we need to use the radio buttons..
      CalculateStats(salary,salarySacrifice,1,0,DrawChart);
    });
  </script
</html>
